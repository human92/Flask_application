<!doctype html>
<head>
    <title>Flaskr</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
</head>
<body>
<div class=page>
  <h1>Flaskr</h1>
  <script>
    var dataset = {{ result }};

    var names = d3.keys(dataset[0]);

    var table = d3.select("body")
      .append("table")
      .attr("border", "1") // 枠線表示;
        
    table.append("thead")
      .append("tr")
      .selectAll("th")
      .data(names)
      .enter()
      .append("th")
      .text(function(d) { return d; });
    
    table.append("tbody")
      .selectAll("tr")
      .data(dataset)
      .enter()
      .append("tr")
      .selectAll("td")
      .data(function(row) { return d3.entries(row); })
      .enter()
      .append("td")
      .text(function(d) { return d.value; });
  </script>
</div>
</body>
